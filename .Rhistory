geom_line() + labs(color = 'Team',
x = 'year_id',
y = 'w_pct')
knitr::opts_chunk$set(message = FALSE,
warning = FALSE)
library(Lahman)
library(tidyverse)
library(janitor)
subset1 <- Teams %>% filter(teamID == teamID[length(Teams$teamID)], yearID >= 1980) %>% select(yearID, W, L, R, RA)
subset1
subset1 <- subset1 %>% mutate(win_perc = W/(W+L))
subset1
low_to_high <- subset1 %>% arrange(win_perc)
low_to_high
high_to_low <- subset1 %>% arrange(desc(win_perc))
high_to_low
subset1 %>% summarize(avg_wins = mean(win_perc))
subset1 %>% summarize(sd_of_wins = sd(win_perc))
Teams %>% group_by(teamID) %>% mutate(win_perc = W/(W+L)) %>% summarize(avg_wins = mean(win_perc))
Teams %>% group_by(teamID) %>% mutate(win_perc = W/(W+L)) %>% summarize(sd_of_wins = sd(win_perc))
Teams %>% group_by(teamID) %>% mutate(win_perc = W/(W+L)) %>% summarize(avg_wins = mean(win_perc)) %>% arrange(desc(avg_wins))
# Please put the code for the plot in this chunk.
Teams %>%
filter(name == 'Detroit Tigers'|
'New York Yankees'|
'San Diego Padres') %>%
mutate(win_perc = W/(W+L)) %>%
ggplot(mapping = aes(x = yearID,
y = win_perc,
color = name)) +
geom_line() + labs(color = 'Team',
x = 'year_id',
y = 'w_pct')
# Please put the code for the plot in this chunk.
Teams %>%
filter(name == 'Detroit Tigers'|
name == 'New York Yankees'|
name == 'San Diego Padres') %>%
mutate(win_perc = W/(W+L)) %>%
ggplot(mapping = aes(x = yearID,
y = win_perc,
color = name)) +
geom_line() + labs(color = 'Team',
x = 'year_id',
y = 'w_pct')
knitr::opts_chunk$set(echo = TRUE, message = FALSE)
library(here)
library(rio)
library(here)
library(rio)
library(tidyverse)
here("Data")
rio::import
?rio::import
?rio::read_delim
?read_delim
ais <- import(here("Data", "ais.xlsx"))
ais
View(ais)
ais <- import(here("Data", "ais.xlsx", skip = 14))
ais <- import(here("Data", "ais.xlsx"),skip = 14)
View(ais)
ais <- import(here("Data", "ais.xlsx"),skip = 13)
View(ais)
sesame <- import(here("Data", "sesame13.csv"))
sesame <- import(here("Data", "sesame13.sav"))
star <- import(here("Data", "star.csv"))
ais <- import(here("Data", "ais.xlsx"), skip = 14)
names(ais)
ais <- import(here("Data", "ais.xlsx"))#, skip = 14)
View(ais)
ais %>% select(rcc, bmi, sport) %>% group_by(sport) %>% summarize(avg_bmi = mean(bmi), avg_rcc = mean(rcc))
ais <- import(here("Data", "ais.xlsx")), skip = 14)
ais <- import(here("Data", "ais.xlsx"), skip = 14)
ais %>% select(rcc, bmi, sport) %>% group_by(sport) %>% summarize(avg_bmi = mean(bmi), avg_rcc = mean(rcc))
ais %>% select(rcc, bmi, sport) %>% group_by(sport) %>% summarize(avg_bmi = sd(bmi), avg_rcc = mean(rcc))
mean
ais %>% select(rcc, bmi, sport) %>% group_by(sport) %>% summarize(avg_bmi = mean(bmi), avg_rcc = mean(rcc))
?rio::export
avg_ais_dat <- ais %>% select(rcc, bmi, sport) %>% group_by(sport) %>% summarize(avg_bmi = mean(bmi), avg_rcc = mean(rcc))
write.xlsx(avg_ais_dat, 'avg_ais_dat.xlsx')
avg_ais_dat <- ais %>% select(rcc, bmi, sport) %>% group_by(sport) %>% summarize(avg_bmi = mean(bmi), avg_rcc = mean(rcc))
rio::write.xlsx(avg_ais_dat, 'avg_ais_dat.xlsx')
avg_ais_dat <- ais %>% select(rcc, bmi, sport) %>% group_by(sport) %>% summarize(avg_bmi = mean(bmi), avg_rcc = mean(rcc))
rio::export(avg_ais_dat, 'avg_ais_dat.xlsx', 'xlsx')
rio::export(avg_ais_dat, 'avg_ais_dat.sav', 'spss')
sesame %>%names()
sesame %>% View()
head(sesame)
labels(sesame)
sesame %>% factorize(site)
factorize(sesame$site)
sesame$setting
factorize(sesame$setting)
sesame$sex <- factorize(sesame$sex)
sesame$sex
sesame %>% select(sex, age, setting) %>% filter(sex =='Female') %>% group_by(setting) %>% summarize(mean_age = mean(age))
nrow(star)
star %>% summarize(sd_math = sd(tmathss), mean_math = mean(tmathss)) %>% filter(tmathss < mean_math - 3*sd_math)
star %>% select(tmathss) %>%  summarize(sd_math = sd(tmathss), mean_math = mean(tmathss)) %>% filter(tmathss < mean_math - 3*sd_math)
star$tmathss
star %>% select(tmathss) #%>% summarize(sd_math = sd(tmathss), mean_math = mean(tmathss)) %>% filter(tmathss < mean_math - 3*sd_math)
nrow(star)
star %>% select(tmathss) %>% summarize(sd_math = sd(tmathss), mean_math = mean(tmathss)) %>% filter(tmathss < mean_math - 3*sd_math)
star %>% select(tmathss) %>% summarize(sd_math = sd(tmathss), mean_math = mean(tmathss)) %>% filter(tmathss < (mean_math - 3*sd_math))
star %>% select(tmathss) %>% summarize(sd_math = sd(tmathss), mean_math = mean(tmathss), outlier = (tmathss < mean_math - 3*sd_math) |  (tmathss > mean_math + 3*sd_math))
nrow(star)
filtered_star <- star %>% select(tmathss) %>% summarize(sd_math = sd(tmathss), mean_math = mean(tmathss), outlier = (tmathss < mean_math - 3*sd_math) |  (tmathss > mean_math + 3*sd_math)) %>% filter(outlier == F)
filtered_star
nrow(filtered_star)
nrow(filtered_star)
filtered_star <- star %>% select(tmathss) %>% summarize(sd_math = sd(tmathss), mean_math = mean(tmathss), outlier = (tmathss < mean_math - 3*sd_math) |  (tmathss > mean_math + 3*sd_math))
filtered_star$outlier %>% table()
filtered_star %>% filter(outlier == T)
describe(star$tmathss)
psych::describe(star$tmathss)
nrow(filtered_star)
star %>% summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss))
star %>% summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss)) %>% mean(tmathss)
star %>% summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss)) %>% psych::describe()
stand_star <- star %>% summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss))
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star %>% group_by(sex & frl)%>%
summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star <- star %>% select(tmathss, treadss, sex, frl) %>%
summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star %>% group_by(sex & frl)%>%
summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star %>% group_by(sex & frl)%>%
summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star
grouped_star <- star %>% select(tmathss, treadss, sex, frl) %>% group_by(sex & frl) %>%
summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
grouped_star <- star %>% select(tmathss, treadss, sex, frl) %>% group_by(sex,frl) %>%
summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
grouped_star
grouped_star <- star %>%
group_by(sex,frl) %>%
summarize(tmathss =
(tmathss - mean(tmathss))/sd(tmathss),
treadss =
(treadss - mean(treadss))/sd(treadss))
grouped_star
star$sex %>% table()
star$frl %>% table()
grouped_star <- star %>%
group_by(sex) %>%
summarize(tmathss =
(tmathss - mean(tmathss))/sd(tmathss),
treadss =
(treadss - mean(treadss))/sd(treadss))
grouped_star
star <- import(here("Data", "star.csv"))
stand_star <- star %>% summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
grouped_star <- star %>%
group_by(sex,frl) %>%
summarize(tmathss =
(tmathss - mean(tmathss))/sd(tmathss),
treadss =
(treadss - mean(treadss))/sd(treadss))
stand_star %>% group_by(sex & frl)%>%
summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
grouped_star
star %>%
group_by(sex,frl)
stand_star
stand_star
stand_star <- star %>% summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star
stand_star
stand_star <- star %>% select(tmathss, treadss, sex, frl) %>%
summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star <- star %>% select(tmathss, treadss, sex, frl) %>%
stand_star <- star %>% select(tmathss, treadss, sex, frl) %>%
summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star <- star %>% select(tmathss, treadss, sex, frl) %>%
summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
##checking calculation
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
grouped_star <- stand %>% summarize(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star
grouped_star <- star %>%
group_by(sex,frl) %>%
summarize(groupmean_tmathss =
(mean(tmathss)),
groupmean_treadss =
(treadss - mean(treadss))/sd(treadss))
grouped_star
grouped_star <- star %>%
group_by(sex) %>%
summarize(groupmean_tmathss =
(mean(tmathss)),
groupmean_treadss =
(treadss - mean(treadss))/sd(treadss))
grouped_star
grouped_star <- star %>%
group_by(sex) %>%
summarize(groupmean_tmathss =
(mean(tmathss)))
grouped_star
grouped_star <- star %>%
group_by(sex,frl) %>%
summarize(groupmean_tmathss =
(mean(tmathss)))
grouped_star
grouped_star <- star %>%
group_by(sex,frl) %>%
summarize(groupmean_tmathss =
(mean(tmathss)))
grouped_star
stand_star <- star %>%
mutate(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star
##checking calculation
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
grouped_star <- stand %>% group_by(sex,frl) %>% summarize(group_mean_math = mean(tmathss),
group_mean_read = mean(treadss))
grouped_star <- stand_star %>% group_by(sex,frl) %>% summarize(group_mean_math = mean(tmathss),
group_mean_read = mean(treadss))
grouped_star
stand_star <- star %>%
mutate(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
##checking calculation
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star %>% group_by(sex,frl) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
stand_star <- star %>%
mutate(tmathss = (tmathss - mean(tmathss))/sd(tmathss),
treadss = (treadss - mean(treadss))/sd(treadss))
stand_star
##checking calculation
stand_star %>% summarize(mean_tmathss = mean(tmathss),
sd_tmathss = sd(tmathss),
mean_treadss = mean(treadss),
sd_treadss = sd(treadss)) %>% round()
stand_star %>% group_by(sex,frl) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
stand_star %>% group_by(sex,frl) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
stand_star %>% group_by(sex) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
stand_star %>% group_by(frl) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
stand_star %>% group_by(sex,frl) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
group_star<-
stand_star %>% group_by(sex,frl) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
lm(data = group_star, mean_tmathss ~ sex + frl + sex:frl)
group_star<-
stand_star %>% group_by(sex,frl) %>%
summarize(group_mean_math = mean(tmathss), group_mean_read = mean(treadss))
lm(data = group_star, group_mean_math ~ sex + frl + sex:frl)
summary(lm(data = group_star, group_mean_math ~ sex + frl + sex:frl))
summary(lm(data = group_star, group_mean_math ~  sex:frl))
summary(lm(data = group_star, group_mean_math ~ sex:frl + sex))
summary(lm(data = group_star, group_mean_math ~ sex:frl))
summary(lm(data = group_star, group_mean_math ~ sex))
summary(lm(data = group_star, group_mean_math ~ frl))
knitr::opts_chunk$set(echo = TRUE,
fig.width = 6.5,
fig.height = 9,
include = F,
eval = T,
warning = F)
library(tidyverse)
library(here)
library(rio)
dat <- import(here('data', 'ecls-k_samp.sav'))
dat %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point()
theme_set(theme_minimal())
dat %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(aes(color = school_type))+
facet_wrap(~ethnic)
dat$ethnic
dat %>% factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth()+
facet_wrap(~ethnic)
dat %>% factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(~ethnic)
dat %>% factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE, color = ethnic)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(~ethnic)
dat %>% factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', color = school_type)+
facet_wrap(~ethnic)
dat %>% factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
table(dat$ethnic)
table(dat$ethnic)
dat %>%
filter(race == 1 |race == 2, race == 3, race == 4) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
dat <- import(here('data', 'ecls-k_samp.sav'))
dat %>%
filter(race == 1 |race == 2, race == 3, race == 4) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
dat %>%
filter(ethnic == 1 |ethnic == 2, ethnic == 3, ethnic == 4) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
?facet_wrap
dat %>%
filter(ethnic < 5) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
knitr::opts_chunk$set(echo = TRUE,
fig.width = 6.5,
fig.height = 4.5,
include = F,
eval = T,
warning = F)
dat %>%
filter(ethnic < 5) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
dat %>%
filter(ethnic < 5) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
dat %>%
filter(ethnic < 5) %>%
arrange(desc(ethnic)) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
dat <- import(here('data', 'ecls-k_samp.sav'))
dat %>%
filter(ethnic < 5) %>%
arrange(ethnic) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
dat %>%
filter(ethnic < 5) %>%
arrange(desc(ethnic)) %>%
factorize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
?factrorize
?factorize
dat %>%
filter(ethnic < 5) %>%
arrange(desc(ethnic)) %>%
characterize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
dat %>%
filter(ethnic < 5) %>%
arrange(desc(ethnic)) %>%
characterize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
t1mean <- mean(eclsk$T1MSCALE, na.rm = TRUE) t1sd <- sd(eclsk$T1MSCALE, na.rm = TRUE)
t1mean <- mean(eclsk$T1MSCALE, na.rm = TRUE) t1sd <- sd(eclsk$T1MSCALE, na.rm = TRUE)
t2mean <- mean(eclsk$T2MSCALE, na.rm = TRUE) t2sd <- sd(eclsk$T2MSCALE, na.rm = TRUE)
t1mean <- mean(eclsk$T1MSCALE, na.rm = TRUE)
eclsk <- import(here('data', 'ecls-k_samp.sav'))
eclsk %>%
filter(ethnic < 5) %>%
arrange(desc(ethnic)) %>%
characterize() %>%
ggplot(aes(x = T1MSCALE, y = T2MSCALE)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
t1mean <- mean(eclsk$T1MSCALE, na.rm = TRUE)
t1sd <- sd(eclsk$T1MSCALE, na.rm = TRUE)
t2mean <- mean(eclsk$T2MSCALE, na.rm = TRUE)
t2sd <- sd(eclsk$T2MSCALE, na.rm = TRUE)
average_gain <- t2mean - t1mean
?here()
here::here()
knitr::opts_chunk$set(
fig.height = 4.5,
fig.width = 6.5,
message = FALSE,
warning = FALSE,
include = FALSE,
echo = TRUE
)
eclsk %>%
filter(ethnic < 5) %>%
arrange(desc(ethnic)) %>%
characterize() %>%
ggplot(aes(x = t1mscale, y = t2mscale)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
eclsk <- import(here('data', 'ecls-k_samp.sav')) %>% clean_names()
# 2. Load Libraries
library(tidyverse)
library(here)
library(rio)
library(janitor)
theme_set(theme_minimal())
eclsk <- import(here('data', 'ecls-k_samp.sav')) %>% clean_names()
eclsk %>%
filter(ethnic < 5) %>%
arrange(desc(ethnic)) %>%
characterize() %>%
ggplot(aes(x = t1mscale, y = t2mscale)) +
geom_point() +
geom_smooth(method = 'lm', aes(color = school_type))+
facet_wrap(~ethnic)
knitr::opts_chunk$set(
echo = TRUE,
fig.height = 4.5,
fig.width = 6.5,
message = FALSE,
warning = FALSE,
include = T
)
