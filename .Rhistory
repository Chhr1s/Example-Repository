joined_dat %>%
relocate(c("Film", "Race"))
joined_dat
lotr_tidy
lotr_tidy %>% group_by(c("Film")) %>% arrange("Gender")
lotr_tidy %>% group_by(c("Film")) %>% arrange("Word_Count")
joined_dat %>% group_by(c("Film")) %>% arrange("Word_Count")
lotr_tidy %>% group_by(c("Film")) %>% arrange("Word_Count")
joined_dat
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange("Gender")
joined_dat
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange("Word_Count")
joined_dat
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange(Word_Count)
joined_dat
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange(Word_Count, desc = T)
joined_dat
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange(Word_Count, desc())
joined_dat
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange(desc(Word_Count))
joined_dat
lotr_tidy %>% arrange(desc(Word_Count))
lotr_tidy %>% arrange(desc(Word_Count)) == joined_dat
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange(desc(Word_Count), Race, Gender)
lotr_tidy %>% arrange(desc(Word_Count), Race, Gender) == joined_dat
lotr_tidy
joined_dat
lotr_tidy %>% arrange(desc(Word_Count), Race, Gender) joined_dat
lotr_tidy %>% arrange(desc(Word_Count), Race, Gender) joined_dat
lotr_tidy %>% arrange(desc(Word_Count), Race, Gender)) joined_dat
lotr_tidy %>% arrange(desc(Word_Count), Race, Gender)) joined_dat
lotr_tidy %>% arrange(desc(Word_Count))
lotr_tidy %>% arrange(desc(Word_Count))
joined_dat
ifelse(joined_dat$Race == "Man", "Human", joined_dat$Race)
lotr_tidy
joined_dat == lotr_tidy %>% arrange(desc(Word_Count))
lotr_tidy %>% arrange(desc(Word_Count))
joined_dat
joined_dat
joined_dat <-
ifelse(joined_dat$Race == "Man",
"Human",
joined_dat$Race)
joined_dat == lotr_tidy %>% arrange(desc(Word_Count))
joined_dat
lotr_tidy %>% arrange(desc(Word_Count))
joined_dat == lotr_tidy %>% arrange(desc(Word_Count), Race, Gender)
lotr_tidy %>% arrange(desc(Word_Count), Race, Gender)
joined_dat %>%
arrange(desc(Word_Count), Race, Gender)== lotr_tidy %>% arrange(desc(Word_Count), Race, Gender)
joined_dat
joined_dat
male <- import(here('data', 'Male.csv'))
female <- import(here('data', 'Female.csv'))
joined_dat <- male %>%
bind_rows(female)
joined_dat <-
joined_dat %>%
pivot_longer(cols = c(Elf, Hobbit, Man),
names_to = "Race",
values_to = "Word_Count") #%>%
joined_dat <-
joined_dat %>%
relocate(c("Film", "Race")) %>%
arrange(desc(Word_Count), Race, Gender)
joined_dat$Race <-
ifelse(joined_dat$Race == "Man",
"Human",
joined_dat$Race)
joined_dat %>%
arrange(desc(Word_Count), Race, Gender) == lotr_tidy %>% arrange(desc(Word_Count), Race, Gender)
sum(joined_dat %>%
arrange(desc(Word_Count), Race, Gender) == lotr_tidy %>% arrange(desc(Word_Count), Race, Gender))
sum(joined_dat %>%
arrange(desc(Word_Count), Race, Gender) != lotr_tidy %>% arrange(desc(Word_Count), Race, Gender))
lotr_tidy %>% group_by("Race") %>% summarize(mean(Word_Count))
lotr_tidy %>% group_by(Race) %>% summarize(mean(Word_Count))
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count))
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
plot()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words)) + geom_col()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, color = Race)) +
geom_col() + theme_minimal() +
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, color = Race)) +
geom_col() + theme_minimal() +
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, color = Race)) +
geom_col() + theme_minimal()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, color = Race)) +
geom_col() + theme_minimal()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, fill = Race)) +
geom_col() + theme_minimal()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, fill = Race)) +
geom_col() +
theme_minimal() +
labs(y = "Total Words Across Trilogy",
title = "Words Spoken by Race of Humanoid (..?) in LOTR Trilogy")
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, fill = Race)) +
geom_col() +
theme_minimal() +
labs(y = "Total Words Across Trilogy",
title = "Words Spoken by Race in LOTR Trilogy")
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>% papaja::apa_table()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>% papaja::apa_table()
?apa_table()
papaja::apa_table(lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)))
papaja::apa_table(lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)))
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count))
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
tibble() %>% papaja::apa_table()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
tibble() %>% kable()
?kable
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
tibble() %>% knitr::kable()
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
tibble() %>% knitr::kable(c("Race", "Total Words"))
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
tibble() %>% knitr::kable(col.names = c("Race", "Total Words"))
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, fill = Race)) +
geom_col() +
theme_minimal() +
labs(y = "Total Words Across Trilogy",
title = "Words Spoken by Race in LOTR Trilogy")
## does this reproduce exactly? Yes, see below
sum(
joined_dat %>%
arrange(desc(Word_Count), Race, Gender) !=
lotr_tidy %>%
arrange(desc(Word_Count), Race, Gender)
)
sum(
joined_dat %>%
arrange(desc(Word_Count), Race, Gender) !=
lotr_tidy %>%
arrange(desc(Word_Count), Race, Gender)
) == 0
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
tibble() %>% knitr::kable(col.names = c("Race", "Total Words"))
lotr_tidy %>%
group_by(Race) %>%
summarize(total_words = mean(Word_Count)) %>%
ggplot(aes(x = Race, y = total_words, fill = Race)) +
geom_col() +
theme_minimal() +
labs(y = "Total Words Across Trilogy",
title = "Words Spoken by Race in LOTR Trilogy")
lotr_tidy %>% pivot_wider(names_from = Race, values_from = Word_Count)
messy_dat2 <- lotr_tidy %>%
pivot_wider(names_from = Gender,
values_from = Word_Count)
messy_dat2
messy_dat1
messy_dat1 <- lotr_tidy %>%
pivot_wider(names_from = Race,
values_from = Word_Count)
messy_dat1
messy_dat2
library(tidyverse)
library(rio)
library(here)
dat <- import(here("data", "Project_Reads_Scores.csv"))
dat_original <- import(here("data", "Project_Reads_Scores.csv"))
dat <- dat_original[,c(1:4,10:23,26:ncol(dat_original))]
dat_original <- import(here("data", "Project_Reads_Scores.csv"))
dim(dat_original)
dat <- dat_original %>% select(, -c(5:9, 24, 25))
dat
dat %>% head
dat <- dat_original %>% select(-c(5:9, 24, 25))
dat_original%>% select(c(5:9, 24, 25))
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
dat_narrow$`Student ID`
dat_filtered <- dat_narrow %>% filter(-starts_with("All"))
dat_filtered <- dat_narrow %>% filter(-select(starts_with("All")))
dat_filtered <- dat_narrow %>% filter(-`All Students (Average`)
dat_filtered <- dat_narrow %>% filter(-`All Students (Average)`)
dat_original <- import(here("data", "Project_Reads_Scores.csv")) %>% janitor::clean_names()
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
dat_narrow
head(dat_narrow)
dat_original <- import(here("data", "Project_Reads_Scores.csv")) #%>% janitor::clean_names()
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
head(dat_narrow)
head(dat_narrow)
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
head(dat_narrow)
dat_original <- import(here("data", "Project_Reads_Scores.csv")) #%>% janitor::clean_names()
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
head(dat_narrow)
View(dat_narrow)
dat_original <- import(here("data", "Project_Reads_Scores.csv")) #%>% janitor::clean_names()
View(dat_original)
knitr::opts_chunk$set(echo = TRUE
message = F,
knitr::opts_chunk$set(echo = TRUE,
message = F,
warning = F
)
library(tidyverse)
library(rio)
library(here)
dat_original <- import(here("data", "Project_Reads_Scores.csv")) #%>% janitor::clean_names()
dat_original %>% names()
dat <- import(here("data", "Project_Reads_Scores.csv"))
dat %>% names()
dat <- import(here("data", "Project_Reads_Scores.csv"))
dat
dat <- import(here("data", "Project_Reads_Scores.csv")) %>% janitor::clean_names()
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
dat_filtered <- dat_narrow %>% filter(-(student_id == `All Students (Average)`))
dat_filtered <- dat_narrow %>% filter(-(student_id = `All Students (Average)`))
dat_filtered <- dat_narrow %>% filter(student_id != `All Students (Average)`))
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
dat <- import(here("data", "Project_Reads_Scores.csv")) %>% janitor::clean_names()
dat_original <- import(here("data", "Project_Reads_Scores.csv")) %>% janitor::clean_names()
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
dat_narrow$student_id == `All Students (Average)`
dat_narrow$student_id  %>% table
dat_narrow$student_id  %>% filter(`All Students (Average)`)
dat_narrow$student_id  %>% filter(student_id ==`All Students (Average)`)
?filter
dat_narrow$student_id  %>% dplyr::filter(student_id == `All Students (Average)`)
dat_narrow$student_id  %>% dplyr::filter(student_id == 'All Students (Average)')
dat_narrow$student_id %>% talbe()
dat_narrow$student_id %>% table()
table(dat_narrow$student_id)
dat_narrow$student_id %>% janitor::make_clean_names()
library(janitor)
dat_filtered <- dat_narrow %>%
filter(-student_id = "all_students_average",
dat_filtered <- dat_narrow %>%
filter(-student_id == "all_students_average",
-student_id == "all_students_average_2",
-student_id == "all_students_average_3")
dat_narrow <- dat_narrow$student_id %>%
make_clean_names()
dat_filtered <- dat_narrow %>%
filter(-student_id == "all_students_average",
-student_id == "all_students_average_2",
-student_id == "all_students_average_3")
dat_narrow <- dat_narrow$student_id %>%
make_clean_names() %>% factor()
dat_narrow <- dat_narrow$student_id %>%
make_clean_names() %>% factor()
knitr::opts_chunk$set(echo = TRUE,
message = F,
warning = F
)
library(tidyverse)
library(rio)
library(here)
library(janitor)
dat_original <- import(here("data", "Project_Reads_Scores.csv")) %>% clean_names()
dat_narrow <- dat_original %>% select(-c(5:9, 24, 25))
dat_narrow$student_id <- dat_narrow$student_id %>%
make_clean_names() %>% factor()
dat_filtered <- dat_narrow %>%
filter(-student_id == "all_students_average",
-student_id == "all_students_average_2",
-student_id == "all_students_average_3")
dat_filtered
dat_narrow
dat_filtered <- dat_narrow %>%
filter(-student_id == "all_students_average" &
-student_id == "all_students_average_2" &
-student_id == "all_students_average_3")
dat_filtered
dat_filtered <- dat_narrow %>%
filter(-student_id == "all_students_average" |
-student_id == "all_students_average_2" |
-student_id == "all_students_average_3")
dat_filtered
dat_filtered <- dat_narrow %>%
filter(student_id != "all_students_average" |
student_id != "all_students_average_2" |
student_id != "all_students_average_3")
dat_filtered
dat_narrow %>% dim()
dat_filtered %>% dim()
dat_narrow %>% dim()
dat_filtered %>% dim()
dat_narrow$student_id <- dat_narrow$student_id %>%
make_clean_names() %>% factor()
dat_filtered <- dat_narrow %>%
filter(student_id != "all_students_average" |
student_id != "all_students_average_2" |
student_id != "all_students_average_3")
dat_narrow %>% dim()
dat_filtered %>% dim()
dat_filtered$student_id %>% table
dat_filtered <- dat_narrow %>%
filter(-student_id == "all_students_average" |
-student_id == "all_students_average_2" |
-student_id == "all_students_average_3")
dat_filtered
dat_filter %>% filter(student_id == "all_students_average")
dat_filtered %>% filter(student_id == "all_students_average")
View(dat_filtered)
dat_filtered <- dat_narrow %>%
filter(student_id != "all_students_average" |
student_id != "all_students_average_2" |
student_id != "all_students_average_3")
View(dat_filtered)
dat_filtered <- dat_narrow %>%
filter(student_id != "all_students_average" &
student_id != "all_students_average_2" &
student_id != "all_students_average_3")
dat_narrow %>% dim()
dat_filtered %>% dim()
dat_filtered %>% table()
dat_filtered$student_id %>% table()
dat_filtered$student_id
dat_narrow$student_id <- dat_narrow$student_id %>%
make_clean_names() #%>% factor()
dat_filtered <- dat_narrow %>%
filter(student_id != "all_students_average" &
student_id != "all_students_average_2" &
student_id != "all_students_average_3")
dat_narrow %>% dim()
dat_filtered %>% dim()
dat_filtered$student_id
dat_filtered$student_id %>% table()
View(dat_filtered)
head(dat_filtered)
names(dat_filtered)
dat_filtered
dat_filtered %>% pivot_longer(cols = unit_1_score:unit_8_percent,
names_sep = "_")
dat_filtered %>% pivot_longer(cols = unit_1_score:unit_8_percent,
names_sep = "_(?)_")
dat_original <- import(here("data", "Project_Reads_Scores.csv")) #%>% clean_names()
dat_original
names(dat_original)
dat_filtered %>% pivot_longer(cols = unit_1_score:unit_8_percent,
#names_to = c(")
names_sep = "_?_")
dat_filtered %>% pivot_longer(cols = unit_1_score:unit_8_percent,
names_to = c(".value")
names_sep = "_?_")
dat_filtered %>% pivot_longer(cols = unit_1_score:unit_8_percent,
names_to = c(".value"),
names_sep = "_?_")
dat_filtered %>% pivot_longer(cols = unit_1_score:unit_8_percent,
names_to = c(".value"),
names_sep = "_???_")
dat_filtered %>% pivot_longer(cols = select(contains("score"), names_to = "score", values_to = "value")
dat_filtered %>% pivot_longer(cols = select(contains("score"), names_to = "score", values_to = "value")
dat_filtered %>%
pivot_longer(cols = select(contains("score")),
names_to = "score",
values_to = "value")
pivot_longer(cols = -c(test_year,
test_type,
student_id),
names_to = "unit",
names_prefix = "unit_"
values_to = "unit_val")
pivot_longer(cols = -c(test_year,
test_type,
student_id),
names_to = "unit",
names_prefix = "unit_",
values_to = "unit_val")
dat_filtered %>%
rename(unit_5_score = "unit_5_6_score",
unit_5_percent = "unit_5_6_percent") %>%
pivot_longer(cols = -c(test_year,
test_type,
student_id),
names_to = "unit",
names_prefix = "unit_",
values_to = "unit_val")
dat_filtered %>%
rename(unit_5_score = "unit_5_6_score",
unit_5_percent = "unit_5_6_percent") %>%
pivot_longer(cols = -c(test_year,
test_type,
test_site,
student_id),
names_to = "unit",
names_prefix = "unit_",
values_to = "unit_val")
dat_filtered %>%
rename(unit_5_score = "unit_5_6_score",
unit_5_percent = "unit_5_6_percent") %>%
pivot_longer(cols = -c(test_year,
test_type,
test_site,
student_id),
names_to =
c("unit_(.)",
#"unit_val",
"score_type")
names_sep = "_",
dat_filtered %>%
rename(unit_5_score = "unit_5_6_score",
unit_5_percent = "unit_5_6_percent") %>%
pivot_longer(cols = -c(test_year,
test_type,
test_site,
student_id),
names_to =
c("unit_(.)",
#"unit_val",
"score_type"),
names_sep = "_",
values_to = "value")
dat_filtered %>% as.numeric()
dat_filtered[,5:ncol(dat_filtered)]
dat_filtered[,5:ncol(dat_filtered)] %>% as.numeric()
dat_filtered %>% head
dat_filtered[,5:ncol(dat_filtered)] %>% head
dat_filtered %>% select(5:ncol(dat_filtered)
dat_filtered %>% select(5:ncol(dat_filtered)
dat_filtered %>% select(5:ncol(dat_filtered)
dat_filtered %>% select(5:ncol(dat_filtered)
dat_filtered %>% select(5:ncol(dat_filtered)
dat_filtered %>% select(5:ncol(dat_filtered) %>% print()
dat_filtered %>% select(5:ncol(dat_filtered)) %>% print()
dat_filtered[,5:ncol(dat_filtered)] <-
%>% dat_filtered %>%
dat_filtered[,5:ncol(dat_filtered)] <-
dat_filtered %>%
select(5:ncol(dat_filtered)) %>%
mutate_if(is.character,as.numeric)
dat_filtered
library(stringr)
knitr::opts_chunk$set(echo = TRUE,
message = F,
warning = F
)
library(tidyverse)
library(rio)
library(here)
library(janitor)
dat_filtered %>%
mutate_if(is.character, str_sub(end, -1))
